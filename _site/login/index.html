<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Access Terminal</title>
  <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>

<header class="site-header">
  <h1 class="site-title">
    <a href="/">UNION STRATEGIC ARCHIVE</a>
  </h1>

  <div class="header-meta">
    <p class="classification" data-archive-session>
      SESSION: NONE
    </p>
    <p class="classification">
      REQUIRED CLEARANCE LEVEL UNSPECIFIED
    </p>

<button
  class="classification classification-action"
  type="button"
  data-archive-auth-toggle
>
  LOG IN
</button>

  </div>
</header>


</header>

<div class="shell">
  <aside class="sidebar">
    



<nav class="nav" aria-label="Archive Directory">
  <div class="nav-header">
    <div class="nav-kicker">DIRECTORY</div>
    <div class="nav-title">ARCHIVE INDEX</div>
  </div>

  
  <ul class="nav-list">
    
      
      

      <li class="nav-item">
        <a
          class="nav-link is-parent"
          href="/"
          
        >
          <span class="nav-label">Index</span>
        </a>

        
          
  <ul class="nav-list">
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/incidents/"
          
        >
          <span class="nav-label">Incidents</span>
        </a>

        
          
  <ul class="nav-list">
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/incident-000/"
          
        >
          <span class="nav-label">IR-000</span>
        </a>

        
      </li>
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/incident-alpha-001/"
          
        >
          <span class="nav-label">IRA-001</span>
        </a>

        
      </li>
    
  </ul>

        
      </li>
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/briefings/"
          
        >
          <span class="nav-label">Briefings</span>
        </a>

        
          
  <ul class="nav-list">
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/briefings/union/"
          
        >
          <span class="nav-label">BRIEFING, UNION</span>
        </a>

        
      </li>
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/briefings/lancers/"
          
        >
          <span class="nav-label">BRIEFING, LANCERS</span>
        </a>

        
      </li>
    
      
      

      <li class="nav-item">
        <a
          class="nav-link"
          href="/documents/briefings/corpos/"
          
        >
          <span class="nav-label">BRIEFING, CORPOS</span>
        </a>

        
      </li>
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
  </ul>

</nav>

  </aside>

  <main class="page">
    <article class="prose">
      
<div class="card">
  
    <div class="section-header">
      <h2>ACCESS TERMINAL</h2>
      <p class="section-subtitle">
  Credential Entry
  </p>
    </div>
  

  <h3>Authentication Required</h3>
  <p>Enter your assigned access code. All access attempts are logged.</p>
  <hr>

  <form id="access-form" novalidate>
    <div class="field">
      <label for="codename" class="field-label">Codename</label>
      <input
        id="codename"
        class="field-input"
        type="text"
        autocomplete="one-time-code"
        autocapitalize="characters"
        spellcheck="false"
      >
    </div>

    <div class="field">
      <label for="access-code" class="field-label">Access Code</label>
      <input
        id="access-code"
        class="field-input"
        type="password"
        autocomplete="new-password"
        autocapitalize="off"
        spellcheck="false"
        required
      >
    </div>

    <div class="terminal-row">
      <button class="btn btn-primary" type="submit">Initiate Session</button>
      <a class="btn btn-ghost" href="/">Return to Index</a>
    </div>

    <p id="access-error" class="smallprint system-error" style="display:none;">
      ACCESS DENIED. VERIFY CREDENTIALS.
    </p>
  </form>

  <p class="smallprint">
    If you do not have credentials, contact your Oversight administrator for access.
  </p>
</div>

<script>
  // If already logged in, bounce
  const session = window.ArchiveAuth?.getSession?.();
  if (session && (session.clearance === 0 || session.clearance)) {
    window.location.href = "/";
  }

  const form = document.getElementById("access-form");
  const codeEl = document.getElementById("access-code");
  const codenameEl = document.getElementById("codename");
  const errEl = document.getElementById("access-error");

  function hideError() {
    errEl.style.display = "none";
  }

  codeEl.addEventListener("input", hideError);
  codenameEl.addEventListener("input", hideError);

  form.addEventListener("submit", (e) => {
    e.preventDefault();

    hideError();

    const code = codeEl.value.trim();
    const codename = codenameEl.value.trim();

    const record = window.ARCHIVE_ACCESS?.[code];
    if (!record) {
      errEl.style.display = "block";
      return;
    }

    const user = codename || record.user;

    window.ArchiveAuth.setSession(user, record.clearance);
    window.ArchiveAuth.applyHeaderBadge();

    window.location.href = "/";
  });
</script>

    </article>
  </main>
</div>


<footer class="site-footer">
  <p>Document ID: </p>
</footer>


<script src="/assets/js/auth-config.js"></script>
<script src="/assets/js/auth.js"></script>

</body>
</html>
