---
layout: layouts/base.njk
permalink: /search/
title: Search Terminal
---

<div class="card">
  {% sectionHeader "SEARCH TERMINAL" %}
  File Search
  {% endsectionHeader %}
  <hr>

<link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
<link href="/assets/css/pagefind-overrides.css" rel="stylesheet" />
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
  window.addEventListener("DOMContentLoaded", () => {
    const session = window.ArchiveAuth?.getSession?.();
    const clearance = Number.isFinite(session?.clearance) ? session.clearance : 0;
    const maxClearance = Math.max(0, Math.floor(clearance));
    const allowedClearances = Array.from({ length: maxClearance + 1 }, (_, i) => String(i));

    const ui = new PagefindUI({
      element: "#search",
      showSubResults: true,
      showEmptyFilters: false
    });

    ui.triggerFilters({ clearance: allowedClearances });
  });
</script>

  <p class="smallprint">
    Note, this feature is experimental.
  </p>
</div>

</script>
